<?xml version="1.0" encoding="UTF-8"?>
  <!--

    Copyright 2006-2009 smartics, Kronseder & Reiner GmbH Licensed under
    the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a
    copy of the License at http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
    implied. See the License for the specific language governing
    permissions and limitations under the License.
  -->
<document>
  <properties>
    <author email="robert.reiner@smartics.de">Robert Reiner</author>
    <title>Build Properties</title>
  </properties>

  <meta name="keyword" content="maven m2 maven2 plugin build version number date" />
  <body>
    <section name="Build Properties">
      <p>
        The following properties can be used to refer to in the POM.
      </p>

      <subsection name="SCM information">
        <p>
          The following revision information is extracted from the SCM
          system.
        </p>

        <table width="98%">
          <tr>
            <th width="100">Property</th>
            <th>Description</th>
          </tr>
          <tr>
            <td>
              <code>build.scmRevision.id</code>
            </td>
            <td>
              The latest revision number provided by the SCM.
            </td>
          </tr>
          <tr>
            <td>
              <code>build.scmRevision.date</code>
            </td>
            <td>
              The date of the latest revision number provided by the
              SCM.
            </td>
          </tr>
        </table>
      </subsection>

      <subsection name="Build Time Information">
        <p>
          The following information refers to the build time.
        </p>
        <table width="98%">
          <tr>
            <th width="100">Property</th>
            <th>Description</th>
          </tr>
          <tr>
            <td>
              <code>build.date</code>
            </td>
            <td>
              The date the artifact has been built.
            </td>
          </tr>
          <tr>
            <td>
              <code>build.date.pattern</code>
            </td>
            <td>
              The pattern used to format the
              <code>build.date</code>
              . This
              format is also stored as a property to allow to parse the date.
              It may
              be easier to use
              <code>build.timestamp.millis</code>
              to
              format the build date, though.
            </td>
          </tr>
          <tr>
            <td>
              <code>build.timestamp.millis</code>
            </td>
            <td>
              A convenience value that stores the build time in
              milliseconds.
            </td>
          </tr>
          <tr>
            <td>
              <code>build.year</code>
            </td>
            <td>
              A convenience property that stores the year of the
              <code>build.date</code>
              .
            </td>
          </tr>
          <tr>
            <td>
              <code>build.date.current</code>
            </td>
            <td>
              Internal property to change the build date in the POM
              during the
              build process.
            </td>
          </tr>
          <tr>
            <td>
              <code>build.year.current</code>
            </td>
            <td>
              Internal property to change the build year in the POM
              during the
              build process.
            </td>
          </tr>
        </table>
      </subsection>

      <subsection name="Build User Information">
        <p>
          Information about the user and the system the artifact has
          been build
          by.
        </p>
        <table width="98%">
          <tr>
            <th width="100">Property</th>
            <th>Description</th>
          </tr>
          <tr>
            <td>
              <code>build.user</code>
            </td>
            <td>
              The name of the user/system that build the artifact. The
              plugin
              grabs the value of the property specified by
              <code></code>
              . If
              no such property value is present, the Java system
              property
              <code>user.name</code>
              is returned.
            </td>
          </tr>
        </table>
        <p>
          The system information is provided by Java system properties
          <code>os.name</code>
          ,
          <code>os.arch</code>
          and
          <code>os.version</code>
          .
          There is no additional information added by this plugin.
        </p>
      </subsection>

      <subsection name="Build Version Information">
        <p>
          Version information for the build. This information is for
          convenience
          to construct version information to be used in the
          POM (e.g. to name
          the final file).
        </p>
        <table width="98%">
          <tr>
            <th width="100">Property</th>
            <th>Description</th>
          </tr>
          <tr>
            <td>
              <code>build.version</code>
            </td>
            <td>
              This is the artifact version that is read from the POM.
            </td>
          </tr>
          <tr>
            <td>
              <code>build.version.full</code>
            </td>
            <td>
              The version may contain the date in a normalized form,
              the
              revision number and the build number. This information is
              controlled by the Mojo properties
            </td>
            <ul>
              <li>
                <code>addBuildDateToFullVersion
                </code>
              </li>
              <li>
                <code>addBuildNumberToFullVersion
                </code>
              </li>
              <li>
                <code>addReleaseNumberToFullVersion
                </code>
              </li>
            </ul>
          </tr>
        </table>
      </subsection>

      <subsection name="Build Number Information">
        <p>
          The following information tries to create a unique build
          number. This
          number has to be specified in the POM to be
          incremented on each build.
          Unfortunately the change of the POM
          on every build proofed to be
          troublesome.
        </p>
        <p>
          We recommend to not use the build number due to the POM
          modifying nature.
          Please consider to use the revision number of
          the SCM. This is unique
          by design and allows to track the
          sources in the SCM from the artifact.
          The only draw back is
          that it is not a consecutive number.
        </p>
        <table width="98%">
          <tr>
            <th width="100">Property</th>
            <th>Description</th>
          </tr>
          <tr>
            <td>
              <code>build.number</code>
            </td>
            <td>
              A consecutive number stored in the POM and incremented
              on every
              build.
            </td>
          </tr>
          <tr>
            <td>
              <code>build.number.current</code>
            </td>
            <td>
              Internal property to increment the build number during
              the build
              process.
            </td>
          </tr>
        </table>
      </subsection>
    </section>
  </body>
</document>
